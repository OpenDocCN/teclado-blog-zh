# 第 2 天:字符串、变量和获取用户输入

> 原文：<https://blog.teclado.com/python-30-day-2-strings-variables/>

欢迎来到 Python 系列 [30 天的第 2 天！在这篇文章中，我们将讨论如何使用字符串，获取用户输入，以及使用变量在程序中命名值。](https://blog.teclado.com/30-days-of-python/)

如果你错过了[第一天](/30-days-of-python/python-30-day-1-numbers-printing)，如果你对以下任何一项感到不舒服，我建议你检查一下:

*   整数
*   漂浮物
*   简单算术运算符(`+`、`-`、`/`和`*`)
*   `print`功能
*   什么是表情

事不宜迟，我们来说说弦。

## 字符串基础

Python 中的字符串是零个或多个字符的有序序列，我们可以用它们来表示任意的符号集合。这可能是单词、完整的句子或随机的字母、数字和标点符号串。字符串有时被称为“字符串文字”。

为了创建一个字符串，我们只需要用引号将一些字符括起来:

我们可以使用单引号或双引号。它们在 Python 中没有任何不同的含义，也没有强烈的理由让你只使用其中的一个。

```py
`'This is also a valid string!'` 
```

然而，我们不能以一种类型的引用开始字符串，以另一种类型的引用结束字符串。这是无效语法:

```py
`'This is not valid string!"` 
```

打印字符串就像打印数字一样。我们可以在调用`print`函数时传入一个字符串，就像这样:

正如我在开篇所说，字符串是零个或多个字符的序列，我们可以通过写一对中间没有任何内容的引号来定义一个空字符串:

或者

请注意，这与以下内容不同:

那是一个包含单个空格的字符串，空格是字符，所以字符串是**而不是**空的。

## 命名值

我们目前缺少的一个重要工具是引用我们已经计算过的值的方法。请记住，我们可以编写类似于`45 + 56`的表达式，Python 会进行这种计算，即使我们没有将任何内容打印到控制台。问题是，我们如何引用那个表达式的结果？

碰巧的是，我们可以使用一个*赋值操作*在 Python 中命名值。将值绑定到名称的语法相对简单。我们只需要写下我们想要使用的名字，一个`=`符号，和一些表达式。表达式的结果(它计算的值)就是名称所指的内容。这个名字叫做变量。

这里有几个例子:

```py
`name = "Phillip Best"
age = 28` 
```

我们选择的变量名完全取决于我们自己，但是我们需要记住一些规则:

*   变量名可以包括字母、数字和下划线(`_`)字符。
*   变量名不能以数字开头，但可以以下划线开头。
*   变量名区分大小写，但可以是任何大小写。

这些限制意味着以下所有变量名都是无效的:

```py
`1st_value
given-name
john's_age
example variable` 
```

*   `1st_value`不允许，因为它以数字开头。
*   `given-name`包含非法连字符。
*   因为撇号的关系，所以不允许。
*   包含空格，这也是不允许的。

这些规则很有道理。例如，如果允许数字作为变量名的第一个字符，我们就可以使用像`4`这样的单字符名称。然而，这也是我们创建整数的方式，可能会导致混淆。

类似地，`given-name`包含一个`-`字符，它与用于减法的`-`操作符冲突，`john's_age`与用于定义字符串的`'`也有类似的问题。

一个可能让你吃惊的有效变量名是`_`。这有一个特殊的用例，我们将在本系列的后面触及。

如果我们想用多个单词定义变量名，我们可以用下划线分隔这些单词，就像这样:

```py
`given_name = "Phillip"
surname = "Best"` 
```

### 风格注释

虽然我们在如何定义变量名方面有很大的自由度，但我们应该记住一些约定，以帮助尽可能保持代码的可读性。

首先，我们应该为变量使用描述性的名称。写以下内容是完全合法的:

但问题是，`x`和`y`其实并不代表什么。将此与`given_name`和`surname`进行比较，它们会立即告诉我们它们引用的值是什么。使用变量永远不会让你的代码变得难以理解。

你可能已经注意到的另一件事是，我所有的变量名都是小写的。在 Python 中有使用大写字母命名的例子，但是当我们这样做时，它有特殊的含义。在我们讨论这些用例之前，避免使用大写字母，因为这会给熟悉 Python 命名约定的开发人员带来误导信息。

## 引用变量

现在我们知道了如何将值绑定到名称，下一步是学习如何从变量中检索这些值。好消息是这非常简单。我们所要做的就是把变量名写在我们想要使用该值的地方。

例如，我们可以这样写:

```py
`hourly_wage = 20.00
hours_worked = 40

print(hourly_wage * hours_worked)` 
```

这里我们定义了两个变量`hourly_wage`，它是一个浮点数，和`hours_worked`，它是一个整数。然后我们引用了这些值，并将它们用作`*`操作符的操作数。

如果我们运行上面的代码，我们应该看到`800.00`被打印到控制台。请记住，任何数字乘以一个浮点数都会产生一个浮点数。

碰巧的是，引用变量名是另一种类型的表达式。当我们在代码中的任何地方写一个变量名时，它会计算出我们绑定到该名称的值。

但是，如果我们还没有将任何东西绑定到那个名称，会发生什么呢？让我们来看看！

## 例外

让我们回到`repl.it`，我们将编写一个只包含一个表达式的程序，这里我们引用了一个我们还没有定义的变量:

如果我们运行这个程序，我们将在控制台中看到一些愤怒的红色文本，看起来像这样:

```py
`Traceback (most recent call last):
    File "main.py", line 1, in <module>
        name
NameError: name 'name' is not defined` 
```

这里提供的追溯和其他信息非常有用，我强烈建议您养成在出错时详细阅读的习惯。考虑到这一点，我认为值得花一点时间来学习如何阅读这篇文章。

**定义**:回溯是一个报告，它告诉我们当异常发生时，代码中发生了什么。

第一部分是回溯本身，它将告诉我们*异常发生在*的什么地方。顺便提一下，异常通常是一个错误，但是在 Python 中也有出于其他目的使用异常的情况。

回溯告诉我们这个异常发生在一个名为`main.py`的文件中。如果你在`repl.it`上，记住这是当我们按下“运行”按钮时总是运行的文件。它还告诉我们异常发生在第 1 行。在下一行，它告诉我们有问题的代码是什么。在我们的例子中，这是对变量`name`的引用。

这些都是需要了解的好信息，它让我们能够非常快速地指出我们应该在代码中的什么地方寻找问题。

在回溯下，我们有发生的异常的名称(在我们的例子中是一个`NameError`),以及一些更详细解释异常的消息。我们可以看到，问题在于`name`没有定义。换句话说，我们还没有告诉 Python`name`在我们的代码中意味着什么。

还有另一种可能发生`NameError`的情况，让我们来看看:

```py
`print(hourly_wage * hours_worked)

hourly_wage = 20.00
hours_worked = 40` 
```

这里我们定义了两个变量名，但是如果我们运行代码，我们将在控制台中得到以下消息:

```py
`Traceback (most recent call last):
    File "main.py", line 1, in <module>
        print(hourly_wage * hours_worked)
NameError: name 'hourly_wage' is not defined` 
```

在`main.py`文件的第 1 行我们又一次遇到了一个异常，这个异常又是一个`NameError`。在这种情况下，它告诉我们`hourly_wage`没有被定义。实际问题是`hourly_wage` **和** `hours_worked`都没有定义，但是先遇到了`hourly_wage`。

我们得到这个错误的原因是因为 Python 从上到下运行我们的代码。当它在第 1 行遇到`print(hourly_wage * hours_worked)`时，它还不知道我们已经在代码的后面定义了`hourly_wage`和`hours_worked`。出于这个原因，我们必须确保在代码中使用变量之前总是定义它们。如果我们不这样做，Python 将引发一个`NameError`异常，就像我们在这些例子中看到的那样。

## 从用户处获取值

到目前为止，我们已经在 Python 代码中提供了所有的值，但是有时我们需要从用户那里获取值。例如，也许我们想获得用户的姓名和年龄。

幸运的是，我们不需要从头开始实现这样的东西，因为 Python 自带了另一个函数来完成这项工作。这个函数叫做`input`。

我们调用`input`的方式和`print`完全一样，我们只需要写出函数名，然后直接在后面加上左括号和右括号:

如果你运行上面的代码，你不会在控制台中看到任何东西，但是如果你查看 [repl.it](http://repl.it/) 中的“运行”按钮，你会看到它显示“停止”。这意味着程序仍在运行。你还会发现你可以在控制台中输入。

如果你按回车键，程序将结束。这是因为当你按下 enter 键时，`input`功能将停止接受用户输入。由于我们的程序中没有其他代码，Python 就用完了要执行的代码，并终止了程序。

虽然我们可以通过编写`input()`来调用`input`，但通常我们会希望提供某种提示，让用户知道我们想从他们那里得到什么。你的第一反应可能是这样做:

```py
`print("Please enter your name:")
input()` 
```

这当然可行，但是`input`实际上能够提供自己的提示。我们只需要在调用该函数时，在括号内写出所需的提示:

```py
`input("Please enter your name:")` 
```

我鼓励你自己运行这一行代码，因为有一点问题。此刻，用户正直接写在我在提示末尾添加的冒号旁边。为了避免这种情况，请确保在提示的末尾留出一两个空格。这将对用户体验产生重大影响。

```py
`input("Please enter your name: ")` 
```

拼图的最后一块是将这个值存储在某个地方。请记住，函数调用是表达式，因此会计算出一些值。`input`函数计算出一个字符串，该字符串包含用户响应提示所写的任何内容。因此，如果需要，我们可以将该字符串赋给一个变量，如下所示:

```py
`name = input("Please enter your name: ")` 
```

如果用户输入`John`，`name`将包含姓名，`"John"`作为字符串。

## 练习

现在我们已经介绍了如何使用字符串、变量和`input`函数，是时候做一些练习了。

1.  询问用户姓名和年龄，将这些值赋给两个变量，然后打印出来。
2.  调查当你试图给一个已经定义好的变量赋值时会发生什么。尝试在重用该名称之前和之后打印变量。
3.  下面你会发现一些有很多错误的代码。尝试一行一行地检查程序，并修复代码中的问题。我鼓励你在工作的时候试着运行这个程序，因为阅读错误信息对于调试你自己的程序是一个很好的练习。

```py
`hourly_wage = input("Please enter your hourly wage: ')

prnt("Hourly wage: ")
print(hourlywage)
print("Hours worked: ")
print(hours_worked)

hours_worked = input("How many hours did you work this week? ")` 
```

你可以在这里找到今天练习[的答案。](/30-days-of-python/python-30-day-2-exercise-solutions)

我希望到目前为止这还没有太大的挑战，但是如果你被卡住了，请随时加入我们的 [Discord 服务器](https://discord.gg/BBWwyMq)并向我们提出任何问题。我们非常乐意帮忙！

下一次我们将着眼于处理用户输入，我们将更深入地研究字符串。希望在那里见到你！