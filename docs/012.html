<html>
<head>
<title>Python Itertools Part 1 - Product</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Python Itertools第1部分-产品</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-itertools-part-1-product/">https://blog.teclado.com/python-itertools-part-1-product/</a></blockquote><div><div class="post-content">
<p><code>product</code>函数是包含在<code>itertools</code>模块中的几个方便的组合迭代器之一。组合迭代器与一个叫做枚举组合学的数学领域有关，它涉及一个给定模式可以形成的方式的数量。</p><p><code>product</code>为我们提供了一种快速计算两个或更多集合的<a href="https://en.wikipedia.org/wiki/Cartesian_product">笛卡尔积</a>的方法。下面是笛卡尔积的一个例子:</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="../Images/3c877790206e0855f9846e62b980e6bb.png" class="kg-image" alt="" loading="lazy" data-original-src="https://blog.teclado.com/content/images/2019/06/Cartesian_Product_qtl1.svg.png"/><figcaption>Image by Quartl, <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a></figcaption></figure><p><code>product</code>也经常作为在列表理解中包含多个<code>for</code>子句的替代方法。</p><p>在<a href="https://blog.teclado.com/python-list-comprehensions/">之前的帖子</a>中，我们提供了列表理解的代码，该代码将计算两个六面骰子所有可能的掷骰子组合。</p><pre><code class="language-python">roll_combinations = [(d1, d2) for d1 in range(1, 7) for d2 in range(1, 7)]
</code></pre>
<p>我们可以使用<code>product</code>函数做同样的事情。</p><pre><code class="language-python">from itertools import product

dice_combinations = product(range(1, 7), repeat=2)
</code></pre>
<p>这是怎么回事？</p><p><code>product</code>函数接受任意数量的iterables作为位置参数，并有一个名为<code>repeat</code>的可选关键字only参数。</p><p>当我们提供两个或更多的iterables作为参数时，<code>product</code>函数将找到所有的方法来匹配这些iterables中的一个元素和其他iterable中的一个元素。例如，我们可能有这样一对列表:</p><pre><code class="language-python">list_1 = ["a", "b", "c"]
list_2 = [1, 2, 3]
</code></pre>
<p>当我们将这些列表传递给product函数时，我们得到以下内容:</p><pre><code class="language-python">cartesian_product = product(list_1, list_2)
# ('a', 1) ('a', 2) ('a', 3) ('b', 1) ('b', 2) ('b', 3) ('c', 1) ('c', 2) ('c', 3)
</code></pre>
<p>如果我们要添加第三个iterable，这些元组中的每一个都将与第三个iterable中的一个条目匹配。例如，如果我们有包含<code>"x"</code>、<code>"y"</code>和<code>"z"</code>的第三个列表，我们将得到如下输出:</p><pre><code class="language-python"># ('a', 1, 'x') ('a', 1, 'y') ('a', 1, 'z') ('a', 2, 'x') ... etc.
</code></pre>
<p>当我们想要多次使用同一个iterable时,<code>repeat</code>参数最有用。我们可以在寻找滚动组合的代码中看到这样的例子。通过增加<code>repeat</code>的值，我们可以轻松地添加越来越多的骰子。</p><p>如果当我们有多个可迭代对象时，我们将<code>repeat</code>的值设置为<code>2</code>或更大，<code>product</code>将复制<strong>所有的可迭代对象，以便找到笛卡尔积。以下功能在功能上是相同的:</strong></p><pre><code class="language-python">c_product_1 = product(["a", "b", "c"], [1, 2, 3], repeat=2)
c_product_2 = product(["a", "b", "c"], [1, 2, 3], ["a", "b", "c"], [1, 2, 3])
</code></pre>
<p>这就结束了我们对<code>itertools</code> <code>product</code>函数的介绍。我希望您学到了一些新东西，我鼓励您尝试我们在这里介绍的东西，以便真正理解它是如何工作的。</p><p>我们每周一发布新的<a href="https://blog.teclado.com/tag/python-snippets/">片段帖子</a>，周四发布更实质性的内容，但以防你忘记，你可能想在<a href="https://twitter.com/TecladoCode">推特</a>上关注我们，以了解我们所有的最新内容。下周一我们将介绍一些其他很酷的<code>itertools</code>功能，所以请确保下周<a href="https://blog.teclado.com/ghost/#/editor/post/5cfcb0ef36f461647e469ee6/">回来查看</a>！或者，您可以尝试一下我们的<a href="https://www.udemy.com/the-complete-python-course/?couponCode=BLOGGER">完整Python课程</a>，在那里我们将深入探讨其中的一些主题。</p><p>我们也很想听听你认为我们应该写的很酷的技巧和诀窍，所以在<a href="https://twitter.com/TecladoCode"> Twitter </a>上联系，或者加入我们的<a href="https://discord.gg/BBWwyMq"> Discord server </a>！</p>
</div>
</div>    
</body>
</html>