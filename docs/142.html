<html>
<head>
<title>Day 16: Exercise Solutions | Teclado</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>第16天:锻炼解决方案| Teclado</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-30-day-16-exercise-solutions/">https://blog.teclado.com/python-30-day-16-exercise-solutions/</a></blockquote><div><article class="pb-12 prose prose-p:font-copy col-start-2 dark:prose-invert">
                    
                    <p>以下是我们为<a href="https://blog.teclado.com/30-days-of-python/"> 30天Python </a>系列中的<a href="/30-days-of-python/python-30-day-16-lambda-expressions">第16天练习</a>提供的解决方案。在检查解决方案之前，请确保您亲自尝试了这些练习！</p>
<h3>1)使用<code>sort</code>方法按照学生姓名的字母顺序排列以下列表。</h3>
<div class="codehilite"><pre><span/><code><span class="n">students</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Hannah"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">83</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Charlie"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">91</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">85</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Rachel"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">79</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Lauren"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">92</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>这里我们需要注意的第一件事是,<code>sort</code>方法并不真正知道如何对这组数据进行排序。它真正做的只是使用<code>&gt;</code>和<code>&lt;</code>进行一系列比较。对于字典来说，这甚至不是一个有效的操作，所以它甚至不能给出如何对所有内容进行排序的最佳猜测。</p>
<p>即使它能够对字典进行排序，它应该使用什么信息呢？我们的词典包含几条数据。应该按名字排序吗？还是按成绩？也许字典的长度是相关的。它应该尝试按此排序吗？有这么多可能的因素，我们需要指示<code>sort</code>我们想要它做什么。我们用钥匙来做这个。</p>
<p>正如我们在今天的帖子中看到的，键是一个返回某个值的函数，像<code>sort</code>这样的东西可以用它来确定我们的值的顺序。在这种情况下，我们希望按字母顺序对我们的名字进行排序，所以我们真的希望我们的键根据与<code>"name"</code>键相关的字符串进行排序。</p>
<p>首先让我们用一个常规函数来做这件事:</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="n">student</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">student</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>

<span class="n">students</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Hannah"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">83</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Charlie"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">91</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">85</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Rachel"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">79</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Lauren"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">92</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">students</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">get_name</span><span class="p">)</span>
</code></pre></div>

<p>如果我们打印<code>students</code>，我们现在应该按照以下顺序取回它们:</p>
<div class="codehilite"><pre><span/><code><span class="p">[</span>
    <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Charlie'</span><span class="p">,</span> <span class="s1">'grade_average'</span><span class="p">:</span> <span class="mi">91</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Hannah'</span><span class="p">,</span> <span class="s1">'grade_average'</span><span class="p">:</span> <span class="mi">83</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Lauren'</span><span class="p">,</span> <span class="s1">'grade_average'</span><span class="p">:</span> <span class="mi">92</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Peter'</span><span class="p">,</span> <span class="s1">'grade_average'</span><span class="p">:</span> <span class="mi">85</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Rachel'</span><span class="p">,</span> <span class="s1">'grade_average'</span><span class="p">:</span> <span class="mi">79</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>然而，我们在这里使用的密钥非常简单。它所做的只是从字典键中获取一个值。因此，在调用<code>sort</code>时，我们使用lambda表达式来定义函数更合适。</p>
<div class="codehilite"><pre><span/><code><span class="n">students</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Hannah"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">83</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Charlie"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">91</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">85</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Rachel"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">79</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Lauren"</span><span class="p">,</span> <span class="s2">"grade_average"</span><span class="p">:</span> <span class="mi">92</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">students</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">student</span><span class="p">:</span> <span class="n">student</span><span class="p">[</span><span class="s2">"name"</span><span class="p">])</span>
</code></pre></div>

<p>这个lambda表达式定义了一个与我们之前定义的相同的函数。它有一个参数，它期望这个参数是一个字典，它返回与字典中的<code>"name"</code>键相关联的值。</p>
<h3>2)将以下函数转换为lambda表达式，并将其赋给一个名为<code>exp</code>的变量。</h3>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">exponentiate</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exponent</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exponent</span>
</code></pre></div>

<p>在这种情况下，我们有一个带有两个参数的函数，我们的返回值是<code>base ** exponent</code>。因此，我们的lambda表达式如下所示:</p>
<div class="codehilite"><pre><span/><code><span class="k">lambda</span> <span class="n">base</span><span class="p">,</span> <span class="n">exponent</span><span class="p">:</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exponent</span>
</code></pre></div>

<p>这两个参数跟在关键字<code>lambda</code>后面，冒号标记参数列表的结尾。在冒号后面我们写返回值。</p>
<p>现在我们只需要将它赋给一个名为<code>exp</code>的变量，就像这样:</p>
<div class="codehilite"><pre><span/><code><span class="n">exp</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">base</span><span class="p">,</span> <span class="n">exponent</span><span class="p">:</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exponent</span>
</code></pre></div>

<h3>3)打印您在之前的练习中使用lambda表达式创建的函数。创建的函数的名称是什么？</h3>
<p>在这种情况下，我们必须小心不要调用我们的函数。我们想要打印函数本身，这可以通过打印<code>exp</code>来实现，因为这是我们为函数赋值的地方。</p>
<div class="codehilite"><pre><span/><code><span class="n">exp</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">base</span><span class="p">,</span> <span class="n">exponent</span><span class="p">:</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exponent</span>

<span class="nb">print</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
</code></pre></div>

<p>我们得到的大概是这样的:</p>
<div class="codehilite"><pre><span/><code><span class="o">&lt;</span><span class="n">function</span> <span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x7f3e9837c1f0</span><span class="o">&gt;</span>
</code></pre></div>

<p>正如我们所看到的，我们用<code>&lt;lambda&gt;</code>代替了普通的名字。这是因为我们用lambda创建的函数实际上没有名字。<code>&lt;lambda&gt;</code>实际上只是一个占位符，因为它不是Python中的合法名称。</p>
<p>如果你记得回到第2天，当我们谈到变量名时，我们发现Python名只能以字母或下划线开头，所以我们甚至不能创建一个名为<code>&lt;lambda&gt;</code>的变量。</p>
<p>因为我们使用lambda表达式创建的函数没有名字，所以它们有时被称为匿名函数。正如我们所看到的，这并不妨碍我们将它们赋给变量！</p> 
                </article>
            
            </div>    
</body>
</html>