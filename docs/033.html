<html>
<head>
<title>Migrating from pip + virtualenv to Pipenv</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>从pip + virtualenv迁移到Pipenv</h1>
<blockquote>原文：<a href="https://blog.teclado.com/migrating-from-pip-virtualenv-to-pipenv/">https://blog.teclado.com/migrating-from-pip-virtualenv-to-pipenv/</a></blockquote><div><div class="post-content">
<p>我们最近的课程《Flask和Python的高级REST APIs》使用了Pipenv。</p><p>然而,“初学者”课程——使用Flask和Python的REST APIs使用了virtualenv。</p><p>这篇博客旨在帮助第一门课的学生迁移到Pipenv，因为第二门课会用到它。</p><h2 id="why-pipenv">为什么是Pipenv？</h2><p>对于本课程和小型应用程序开发来说，迁移到Pipenv有两个主要原因。在开发更大的应用程序时，有更多的理由进行迁移。</p><p>学习本课程的两个主要原因是:</p><ul><li>使用Pipenv比使用virtualenv和pip更容易，因为它为您创建虚拟环境并管理它们；</li><li>使用Pipenv比virtualenv更安全，因为安装的每个依赖项都有一个hash，保存在一个名为<code>Pipfile.lock</code>的文件中。下载依赖项时，如果它与该版本的哈希不匹配，它将无法工作。通过这种方式，您可以知道依赖项是否以某种方式被修改了，但是版本号没有改变。</li></ul><h3 id="safer">更安全？</h3><p>例如，如果有人在您不知道的情况下侵入依赖项的存储位置并修改了依赖项，那么依赖项的版本号可能不会改变。</p><p>恶意代码可能会在无人知晓的情况下被添加，这是非常危险的。</p><p>使用<code>Pipfile.lock</code>，每个依赖项都有一个从包内容生成的散列——所以如果包内容改变，散列也会改变。Pipenv在安装时检查这一点，以确保您安装的是您认为的依赖项。</p><h2 id="migrating-to-pipenv">迁移到Pipenv</h2><p>迁移到Pipenv实际上非常容易。你要做的就是:</p><ul><li>安装Pipenv(<code>pip install pipenv</code>)；</li><li>在保存<code>requirements.txt</code>文件的同一个文件夹中运行<code>pipenv install</code>；</li><li>删除你的<code>requirements.txt</code>文件，因为现在你已经有了<code>Pipfile</code>和<code>Pipfile.lock</code>文件。</li></ul><h2 id="running-your-app-with-pipenv">使用Pipenv运行您的应用</h2><p>当使用pip和virtualenv时，我们通常会首先激活virtualenv，然后运行我们的Python应用程序。</p><p>有了Pipenv，可以做<code>pipenv run python app.py</code>来一气呵成。</p><p>或者，您可以通过运行<code>pipenv shell</code>来激活virtualenv。然后以与使用virtualenv时相同的方式运行应用程序。</p><h2 id="generating-a-requirements-txt-file">生成requirements.txt文件</h2><p>一些软件服务可能需要提供<code>requirements.txt</code>文件(例如ReadTheDocs、Heroku...).用Pipenv生成一个<code>requirements.txt</code>文件非常简单:</p><pre><code class="language-bash">pipenv lock --requirements &gt; requirements.txt
</code></pre>
<h2 id="other-reading-material">其他阅读材料</h2>
</div>
</div>    
</body>
</html>