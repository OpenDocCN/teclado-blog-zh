<html>
<head>
<title>Day 22: Exercise Solutions | Teclado</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>第22天:锻炼解决方案| Teclado</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-30-day-22-exercise-solutions/">https://blog.teclado.com/python-30-day-22-exercise-solutions/</a></blockquote><div><article class="pb-12 prose prose-p:font-copy col-start-2 dark:prose-invert">
                    
                    <p>以下是我们对Python 系列<a href="https://blog.teclado.com/30-days-of-python/"> 30天</a><a href="/30-days-of-python/python-30-day-22-iterators">第22天</a>练习的解决方案。在检查解决方案之前，请确保您亲自尝试了这些练习！</p>
<h3>1)下面你会发现一个包含几个充满数字的元组的列表。使用<code>map</code>函数计算每个元组中数字的总和。使用手动迭代打印由结果<code>map</code>对象提供的前两个结果。</h3>
<div class="codehilite"><pre><span/><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="mi">98</span><span class="p">,</span> <span class="mi">1034</span><span class="p">,</span> <span class="mi">54</span><span class="p">),</span> <span class="p">(</span><span class="mi">254</span><span class="p">,</span> <span class="mi">344</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">74</span><span class="p">)]</span>
</code></pre></div>

<p>首先，让我们创建我们的<code>map</code>对象。在这种情况下，我们不需要任何复杂的东西，比如lambda表达式或来自<code>operator</code>模块的东西:我们可以只使用<code>sum</code>函数。</p>
<div class="codehilite"><pre><span/><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="mi">98</span><span class="p">,</span> <span class="mi">1034</span><span class="p">,</span> <span class="mi">54</span><span class="p">),</span> <span class="p">(</span><span class="mi">254</span><span class="p">,</span> <span class="mi">344</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">74</span><span class="p">)]</span>
<span class="n">totals</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">sum</span><span class="p">,</span> <span class="n">numbers</span><span class="p">)</span>
</code></pre></div>

<p>现在我们有了一个分配给<code>totals</code>的<code>map</code>对象，我们只需要将这个<code>map</code>对象传递给<code>next</code>就可以从中获得一个项目。这是可能的，因为<code>map</code>对象是迭代器。</p>
<div class="codehilite"><pre><span/><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">56</span><span class="p">),</span> <span class="p">(</span><span class="mi">98</span><span class="p">,</span> <span class="mi">1034</span><span class="p">,</span> <span class="mi">54</span><span class="p">),</span> <span class="p">(</span><span class="mi">254</span><span class="p">,</span> <span class="mi">344</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">74</span><span class="p">)]</span>
<span class="n">totals</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">sum</span><span class="p">,</span> <span class="n">numbers</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">totals</span><span class="p">))</span>  <span class="c1"># 82</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">totals</span><span class="p">))</span>  <span class="c1"># 1186</span>
</code></pre></div>

<p>请注意，在这一点上还没有计算最后三个总和。</p>
<h3>2)编写一个程序来创建一个时间表，列出在30天内的某一天哪些员工将锁上商店。您应该列出日期、员工姓名和星期几。</h3>
<p>在这个练习中，我们被告知有三名员工每天晚上轮流锁门。例如，如果我们从员工A开始，他们将在第一天关闭，然后是员工B，接着是员工c。然后，循环从员工A的第4天开始。</p>
<p>为了创建这种循环行为，我们将在<code>itertools</code>模块中使用一个非常有用的函数，名为<code>cycle</code>。<code>cycle</code>是一种特殊类型的迭代器，它将按照某种预定义的顺序为我们提供无限多的结果。</p>
<p>如果我们看一下文档，我们可以看到函数签名是这样的:</p>
<div class="codehilite"><pre><span/><code><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
</code></pre></div>

<p>这告诉我们,<code>cycle</code>使用一个iterable来定义应该循环的值。</p>
<p>记住这一点，让我们导入模块并创建两个<code>cycle</code>迭代器:一个用于雇员，一个用于一周中的日子。</p>
<div class="codehilite"><pre><span/><code><span class="kn">import</span> <span class="nn">itertools</span>

<span class="n">employees</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"Fiona"</span><span class="p">,</span> <span class="s2">"Carl"</span><span class="p">])</span>
<span class="n">days</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Monday"</span><span class="p">,</span> <span class="s2">"Tuesday"</span><span class="p">,</span> <span class="s2">"Wednesday"</span><span class="p">,</span> <span class="s2">"Thursday"</span><span class="p">,</span> <span class="s2">"Friday"</span><span class="p">,</span> <span class="s2">"Saturday"</span><span class="p">,</span> <span class="s2">"Sunday"</span><span class="p">])</span>
</code></pre></div>

<p>现在我们有了这个，剩下的解决方案就很简单了。我们只需要创建一个有30次迭代的<code>for</code>循环，这可以通过迭代一个<code>range</code>来完成。然后我们可以使用这个<code>range</code>中的值作为天数，我们可以使用<code>next</code>从两个周期中获取值。</p>
<div class="codehilite"><pre><span/><code><span class="kn">import</span> <span class="nn">itertools</span>

<span class="n">employees</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"Fiona"</span><span class="p">,</span> <span class="s2">"Carl"</span><span class="p">])</span>
<span class="n">days</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Monday"</span><span class="p">,</span> <span class="s2">"Tuesday"</span><span class="p">,</span> <span class="s2">"Wednesday"</span><span class="p">,</span> <span class="s2">"Thursday"</span><span class="p">,</span> <span class="s2">"Friday"</span><span class="p">,</span> <span class="s2">"Saturday"</span><span class="p">,</span> <span class="s2">"Sunday"</span><span class="p">])</span>

<span class="k">for</span> <span class="n">day_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Day </span><span class="si">{</span><span class="n">day_number</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">next</span><span class="p">(</span><span class="n">days</span><span class="p">)</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">next</span><span class="p">(</span><span class="n">employees</span><span class="p">)</span><span class="si">}</span><span class="s2"> closes."</span><span class="p">)</span>
</code></pre></div>

<p>这种解决方案的一个非常好的地方是，我们可以通过修改传递给employees <code>cycle</code>的列表来添加或删除员工。我们不需要做任何其他的改变。</p>
<div class="codehilite"><pre><span/><code><span class="kn">import</span> <span class="nn">itertools</span>

<span class="n">employees</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Peter"</span><span class="p">,</span> <span class="s2">"Fiona"</span><span class="p">,</span> <span class="s2">"Carl"</span><span class="p">,</span> <span class="s2">"Helen"</span><span class="p">])</span>
<span class="n">days</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([</span><span class="s2">"Monday"</span><span class="p">,</span> <span class="s2">"Tuesday"</span><span class="p">,</span> <span class="s2">"Wednesday"</span><span class="p">,</span> <span class="s2">"Thursday"</span><span class="p">,</span> <span class="s2">"Friday"</span><span class="p">,</span> <span class="s2">"Saturday"</span><span class="p">,</span> <span class="s2">"Sunday"</span><span class="p">])</span>

<span class="k">for</span> <span class="n">day_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Day </span><span class="si">{</span><span class="n">day_number</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">next</span><span class="p">(</span><span class="n">days</span><span class="p">)</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">next</span><span class="p">(</span><span class="n">employees</span><span class="p">)</span><span class="si">}</span><span class="s2"> closes."</span><span class="p">)</span>
</code></pre></div>

<p>我认为，考虑如何在不使用任何迭代器的情况下做到这一点也是一个很好的练习。</p> 
                </article>
            
            </div>    
</body>
</html>