<html>
<head>
<title>Python's namedtuples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Python的命名元组</h1>
<blockquote>原文：<a href="https://blog.teclado.com/pythons-namedtuples/">https://blog.teclado.com/pythons-namedtuples/</a></blockquote><div><div class="post-content">
<p>嗨，欢迎来到这个关于命名夫妇的简短帖子！namedtuples是奇妙的<a href="https://docs.python.org/3.7/library/collections.html"> collections </a>模块的一部分，它们允许我们使用名称来访问元组元素，而不是索引，这使得我们的代码更具可读性。我个人认为他们绝对是惊人的，所以让我们看看他们的行动！</p><h2 id="defining-a-namedtuple">定义一个<code>namedtuple</code></h2><p>为了使用一个<code>namedtuple</code>，我们需要为它定义一个蓝图。例如，如果我们想要一个名为<code>Student</code>的<code>namedtuple</code>，其中的元素是学生的姓名、年龄和主要教师，它可能看起来像这样:</p><pre><code class="language-python">from collections import namedtuple

Student = namedtuple("Student", ["name", "age", "faculty"])
</code></pre>
<p>我们来分析一下。</p><p>首先需要注意的是，我们在这里做一个赋值，命名惯例是使用大写字母作为变量名，就像我们在定义一个类一样。</p><p>在赋值的右边，我们有<code>namedtuple</code>和一组括号，在里面，我们有<code>Student</code> <code>namedtuple</code>的所有配置。</p><p>括号内的第一项是我们要赋值的变量的名称，第二项是<code>Student</code>中元素的键列表。</p><h2 id="creating-instances-of-a-namedtuple">创建一个<code>namedtuple</code>的实例</h2><p>既然我们已经定义了蓝图，我们可以在代码中使用<code>Student</code>。例如，我们可能会这样做:</p><pre><code class="language-python">from collections import namedtuple

Student = namedtuple("Student", ["name", "age", "faculty"])

names = ["John", "Steve", "Mary"]
ages = [19, 20, 18]
faculties = ["Politics", "Economics", "Engineering"]

students = [
    Student(*student_details)
    for student_details in zip(names, ages, faculties)
]
</code></pre>
<p>这里我们从三个不同的列表中提取了一些相关的数据，并且我们使用了一个<a href="https://blog.teclado.com/python-list-comprehensions/">列表理解</a>和<a href="https://blog.teclado.com/python-zip/"> zip </a>来创建一个<code>Student</code>对象的列表。</p><p>在上面的例子中，我们使用了<code>*</code>语法来析构<code>zip</code>对象中的每个元组，但是我们有一些其他的选择。例如，我们可以使用关键字参数来定义一个<code>namedtuple</code>的值:</p><pre><code class="language-python">example_student = Student(name="James", age=18, faculty="Music")
</code></pre>
<h2 id="accessing-elements-within-a-namedtuple">访问<code>namedtuple</code>中的元素</h2><p>回到我们前面的学生列表的例子，我们可能希望以某种方式处理这个列表，以确定我们的数据。例如，我们可能想使用<code>max</code>来查找列表中年龄最大的学生。</p><p>我们可以这样做:</p><pre><code class="language-python">oldest_student = max(students, key=lambda student: student.age)
</code></pre>
<p>这里我们可以看到第一个访问命名元组中的值的例子。我们需要使用这个<code>.</code>语法通过键访问值，将键的名称放在点之后。</p><p>在上面的代码中，我们为<code>max</code>设置了一个自定义键，以便它根据每个元组中的<code>age</code>元素来比较我们的元组。你可以在<a href="https://docs.python.org/3.7/library/functions.html?highlight=built#max">文档</a>中了解更多。</p><p>使用常规元组或列表，可能看起来更像这样:</p><pre><code class="language-python">oldest_student = max(students, key=lambda student: student[1])
</code></pre>
<p>既然我们不得不使用索引，lambda函数的含义就不那么清楚了。我们必须回过头来参考原始数据，看看索引<code>1</code>处到底是什么。</p><p>如果出于某种原因，你想使用一个带有<code>namedtuple</code>的索引，这仍然有效，所以你可以这样做。</p><p>为了结束上面的例子，让我们打印出<code>oldest_student</code>:</p><pre><code class="language-python">Student(name='Steve', age=20, faculty='Economics')
</code></pre>
<p>输出实际上非常易读，但是为了让用户看起来不那么像代码，我们可以使用f字符串:</p><pre><code class="language-python">print(f"{oldest_student.name} ({oldest_student.age}) - {oldest_student.faculty}")

# Steve (20) - Economics
</code></pre>
<p>如你所见，命名元组使得我们访问的值非常清楚，使得我们的代码可读性很强。每个人都应该更经常地使用它们！</p><h2 id="wrapping-up">包扎</h2><p>这就是这篇关于命名夫妇的短文。我觉得取名组合很棒，希望现在你也是。我强烈建议将它们添加到您经常使用的类型中，因为它们对于提高代码可读性有很大的潜力。</p><p>如果你喜欢这篇文章，你可能想看看我们的<a href="https://www.udemy.com/course/the-complete-python-course/">完整的Python课程</a>，或者加入我们的<a href="https://discord.gg/BBWwyMq">不和谐</a>！我们随时准备帮助您将Python推向新的高度！</p><p>请确保您也注册了下面的邮件列表，因为我们会为我们的订户发布折扣代码，确保您总能在我们的课程中获得最优惠的价格。</p><p>编码快乐！</p>
</div>
</div>    
</body>
</html>