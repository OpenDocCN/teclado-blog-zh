<html>
<head>
<title>Day 6: For Loops | Teclado</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>第6天:For Loops | Teclado</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-30-day-6-for-loops/">https://blog.teclado.com/python-30-day-6-for-loops/</a></blockquote><div><article class="pb-12 prose prose-p:font-copy col-start-2 dark:prose-invert">
                    
                    <p>欢迎来到Python 系列<a href="https://blog.teclado.com/30-days-of-python/"> 30天的第6天！在本帖中，我们将讨论<code>for</code>循环，它允许我们对集合中的每个项目重复一次动作。</a></p>
<p>如果你错过了<a href="/30-days-of-python/python-30-day-5-conditionals-booleans">第5天</a>，如果你不熟悉以下任何话题，或者如果你需要复习，我建议你查看一下:</p>
<ul>
<li>布尔值</li>
<li>Python中的真值和假值</li>
<li>比较运算符</li>
<li><code>if</code>报表</li>
<li><code>elif</code>和<code>else</code>条款</li>
<li>使用真值作为条件</li>
</ul>
<p>此外，我们还制作了第4天和第5天的简短回顾，您可以在此处查看<a href="https://www.instagram.com/p/B-pG2tTA963/"/>来刷新您的记忆。</p>
<h2>为什么我们需要循环？</h2>
<p>让我们用一个我们以前的帖子中的例子，我们定义了一个表示电影库中电影的元组列表。</p>
<div class="codehilite"><pre><span/><code><span class="n">movies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span>
        <span class="s2">"Eternal Sunshine of the Spotless Mind"</span><span class="p">,</span>
        <span class="s2">"Michel Gondry"</span><span class="p">,</span>
        <span class="mi">2004</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Memento"</span><span class="p">,</span>
        <span class="s2">"Christopher Nolan"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Requiem for a Dream"</span><span class="p">,</span>
        <span class="s2">"Darren Aronofsky"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre></div>

<p>这里我们有一个名为<code>movies</code>的列表，它包含许多元组。这些元组包含设定顺序的数据:每个元组中的第一个元素是电影标题；第二个要素是电影的导演；最后一个元素是发行年份。</p>
<p>假设我们想打印出这个电影列表的内容。利用我们目前的知识，我们可能会这样做:</p>
<div class="codehilite"><pre><span/><code><span class="n">movie</span> <span class="o">=</span> <span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">movie</span> <span class="o">=</span> <span class="n">movies</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">movie</span> <span class="o">=</span> <span class="n">movies</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>这将为我们提供如下输出:</p>
<div class="codehilite"><pre><span/><code><span class="n">Eternal</span> <span class="n">Sunshine</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Spotless</span> <span class="n">Mind</span> <span class="p">(</span><span class="mi">2004</span><span class="p">),</span> <span class="n">by</span> <span class="n">Michel</span> <span class="n">Gondry</span>
<span class="n">Memento</span> <span class="p">(</span><span class="mi">2000</span><span class="p">),</span> <span class="n">by</span> <span class="n">Christopher</span> <span class="n">Nolan</span>
<span class="n">Requiem</span> <span class="k">for</span> <span class="n">a</span> <span class="n">Dream</span> <span class="p">(</span><span class="mi">2000</span><span class="p">),</span> <span class="n">by</span> <span class="n">Darren</span> <span class="n">Aronofsky</span>
</code></pre></div>

<p>如果我们想更简洁一点，我们可以放弃<code>movie</code>变量，将几个订阅表达式连接在一起:</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movies</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>如果这些对你来说是新的，我建议看看第四天的帖子。</p>
<p>我们上面写的代码有一些问题。首先，我们有很多重复的代码，这使得这个程序很难维护。想象一下，如果我们想改变输出:</p>
<div class="codehilite"><pre><span/><code><span class="n">Eternal</span> <span class="n">Sunshine</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Spotless</span> <span class="n">Mind</span> <span class="p">(</span><span class="mi">2004</span><span class="p">),</span> <span class="n">by</span> <span class="n">Michel</span> <span class="n">Gondry</span>
</code></pre></div>

<p>对此:</p>
<div class="codehilite"><pre><span/><code><span class="n">Eternal</span> <span class="n">Sunshine</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Spotless</span> <span class="n">Mind</span> <span class="p">(</span><span class="mi">2004</span><span class="p">)</span> <span class="o">-</span> <span class="n">Michel</span> <span class="n">Gondry</span>
</code></pre></div>

<p>我们必须在三个不同的地方做出改变。即使只有这么少的电影，也很容易漏掉一部，或者在格式上犯一个小错误，这可能会导致电影之间的输出出现意想不到的差异。</p>
<p>现在想象我们有50部电影。或者1000部电影。不仅我们的可维护性问题变得如此糟糕，甚至第一次写出来都有点像噩梦。</p>
<p>我们的代码也非常脆弱。我们无法解释对<code>movies</code>列表的任何更改，我们需要提前知道有多少部电影，以便我们可以编写适当数量的<code>print</code>调用。</p>
<p>因为这种代码重复带来了如此大的挑战，所以现代编程语言给了我们很多工具来消除这种重复。在这种特殊情况下，我们想要的工具是一个<code>for</code>循环。</p>
<h2>什么是<code>for</code>循环？</h2>
<p>Python中的<code>for</code>循环是对集合中的每一项，或者更一般地说，对iterable中的每一项执行一些操作的一种方式。在一个非常宽泛的意义上，我们可以把一个iterable看作是能够一次给我们一个值的东西。</p>
<p>在我们的电影库示例中，<code>for</code>循环将允许我们从<code>movies</code>列表中一次获取一个项目，并为每部电影执行一个动作(或一系列动作)。在这种情况下，动作是以某种特定的格式打印电影。</p>
<p>以下是一个具体的循环示例，用于以我们之前使用的格式打印<code>movies</code>列表中的每部电影:</p>
<div class="codehilite"><pre><span/><code><span class="n">movies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span>
        <span class="s2">"Eternal Sunshine of the Spotless Mind"</span><span class="p">,</span>
        <span class="s2">"Michel Gondry"</span><span class="p">,</span>
        <span class="mi">2004</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Memento"</span><span class="p">,</span>
        <span class="s2">"Christopher Nolan"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Requiem for a Dream"</span><span class="p">,</span>
        <span class="s2">"Darren Aronofsky"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">)</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">movies</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>如您所见，这种循环非常强大。列表中可能有10，000部电影，而我们只用了两行代码就成功地将它们全部打印出来。</p>
<h2>定义一个<code>for</code>循环</h2>
<p>循环定义从关键字<code>for</code>开始。这个关键字告诉Python我们想要定义一个<code>for</code>循环。</p>
<p>紧随其后的是一个变量名，但这不是我们在代码中定义的名字。我们一会儿将回到这一点。</p>
<p>接下来是<code>in</code>关键字，后面是我们想要从中获取值的iterable。这一整行都用冒号结尾。</p>
<p>缩进在块下面的是我们想要为iterable中的每一项运行的代码。就像条件语句一样，这个缩进很重要，因为它指出了什么代码与<code>for</code>循环相关联。这个缩进的块有时被称为循环体。</p>
<p>好的，那么在我们的例子中，<code>movie</code>这个名字是怎么回事呢？我们实际上定义了一个新变量作为循环的一部分，这个变量将允许我们引用iterable中的一个给定值。</p>
<p>当我们运行一个<code>for</code>循环时，我们开始<em>迭代我们提供的</em>可迭代对象。这仅仅意味着我们一次从一个可迭代的对象中获取值。</p>
<p>当我们从iterable中获得一个新值时，我们将它赋给这个名称，我们将它定义为循环的一部分，然后我们执行循环体中的代码。完成后，我们从iterable中获取一个新值，将这个新值赋给循环变量，并使用这个新值再次运行循环体。</p>
<p>一旦我们用完了所有的值，循环就结束了，然后我们继续处理循环后面的代码。</p>
<p>如果我们以电影库为例来考虑这个问题，我们定义了一个名为<code>movie</code>的循环变量，我们从中获取值的iterable是<code>movies</code>列表。</p>
<p>在循环的第一次迭代(循环)中，我们从<code>movies</code>中获取第一项，它是这个元组:</p>
<div class="codehilite"><pre><span/><code><span class="p">(</span>
    <span class="s2">"Eternal Sunshine of the Spotless Mind"</span><span class="p">,</span>
    <span class="s2">"Michel Gondry"</span><span class="p">,</span>
    <span class="mi">2004</span>
<span class="p">)</span>
</code></pre></div>

<p>这个元组被赋值给<code>movie</code>，然后我们运行循环体中的代码。我们在主体中只有一行代码，看起来像这样:</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>如你所见，我们在这里引用了这个<code>movie</code>变量，所以在循环的第一次迭代中，<code>movie[0]</code>是字符串，<code>"Eternal Sunshine of the Spotless Mind"</code>；<code>movie[1]</code>是弦，<code>"Michel Gondry"</code>；而<code>movie[2]</code>是整数，<code>2004</code>。</p>
<p>我们现在已经运行完了循环体中的代码，所以我们尝试从<code>movies</code>中获取另一个值。由于列表中还有电影，Python给了我们下一个元组:</p>
<div class="codehilite"><pre><span/><code><span class="p">(</span>
    <span class="s2">"Memento"</span><span class="p">,</span>
    <span class="s2">"Christopher Nolan"</span><span class="p">,</span>
    <span class="mi">2000</span>
<span class="p">)</span>
</code></pre></div>

<p>这个新的元组被赋值给<code>movie</code>，替换旧的值，我们再次运行循环体。</p>
<p>这种情况一次又一次地发生，直到我们看完电影。</p>
<p>需要记住的一件重要事情是，从功能的角度来看，<code>movie</code>这个名字并不重要。Python并没有神奇地将名字<code>movie</code>和<code>movies</code>联系起来。我们可以做以下任何一项，效果都是一样的:</p>
<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">movies</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">film</span> <span class="ow">in</span> <span class="n">movies</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">film</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">film</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">film</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">movie_details</span> <span class="ow">in</span> <span class="n">movies</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">movie_details</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">movie_details</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2">), by </span><span class="si">{</span><span class="n">movie_details</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>它只是一个变量名，就像我们定义的其他变量一样。</p>
<h3>风格注释</h3>
<p>虽然我们可以随意命名循环变量，但最好确保它们准确地描述了我们正在处理的数据。</p>
<p>在上面的例子中，每个元组代表关于一部电影的信息，所以像<code>movie</code>这样的名字非常合适，也很有描述性。像<code>x</code>这样的名字就不是了，它会使我们的代码更难推理，尤其是在更复杂的循环中。</p>
<h2><code>break</code>声明</h2>
<p>有时我们不想遍历整个集合，或者我们想在某些情况下停止循环。在这些情况下，我们可以使用名为<code>break</code>的语句。</p>
<p><code>break</code>通常与条件语句结合使用，因为否则它将在循环的第一次迭代中运行，这使得循环基本上没有意义。</p>
<p>使用<code>break</code>语句的一个常见方法是防止不必要的操作。例如，假设我们想要检查某部电影是否在我们一直引用的电影库中。</p>
<div class="codehilite"><pre><span/><code><span class="n">movies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span>
        <span class="s2">"Eternal Sunshine of the Spotless Mind"</span><span class="p">,</span>
        <span class="s2">"Michel Gondry"</span><span class="p">,</span>
        <span class="mi">2004</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Memento"</span><span class="p">,</span>
        <span class="s2">"Christopher Nolan"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="s2">"Requiem for a Dream"</span><span class="p">,</span>
        <span class="s2">"Darren Aronofsky"</span><span class="p">,</span>
        <span class="mi">2000</span>
    <span class="p">)</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">movies</span><span class="p">:</span>
      <span class="c1"># Check the title of the current movie is Memento</span>
      <span class="k">if</span> <span class="n">movie</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Memento"</span><span class="p">:</span>
            <span class="c1"># If the title is Memento, inform the user that the movie exists and break the loop</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Memento is in the movie library!"</span><span class="p">)</span>
            <span class="k">break</span>
</code></pre></div>

<p>在这种情况下，我们所关心的是电影是否存在，所以如果它是第一个项目，我们就没有必要继续检查其余的项目。如果有10，000部电影，我们就有可能避免检查9，999部电影。</p>
<p>记住，为了在for循环中包含if语句，它需要缩进4个空格。因此，if语句的主体需要缩进8个空格，以便同时出现在循环和if语句中。</p>
<h2><code>range</code>功能</h2>
<p>Python有一个名为<code>range</code>的内置函数，它能够根据某种设定的模式产生一系列整数。例如，我们可能想得到一系列数字，从1开始，到100结束，以3为步长移动。在这种情况下，我们会有<code>1</code>、<code>4</code>、<code>7</code>、<code>10</code>、<code>13</code>、<code>16</code>、<code>19</code>等。</p>
<p>我们调用<code>range</code>函数就像我们调用<code>print</code>或<code>input</code>一样，但是<code>range</code>可以接受可变数量的值。</p>
<p>定义<code>range</code>最简单的方法是为<code>range</code>提供停止值:</p>


<p>这将给我们一个整数序列，从零开始，一直到停止值，但不包括停止值。<code>range(10)</code>因此会给我们一个这样的序列:</p>
<div class="codehilite"><pre><span/><code><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span>
</code></pre></div>

<p>或者，我们可以提供一个起始值和一个终止值。在这种情况下，起始值首先出现，并且该值包含在范围内。因此<code>range(10)</code>和写<code>range(0, 10)</code>是一回事。</p>
<p>假设我们出于某种原因希望我们的<code>range</code>从3开始，我们希望它上升到10，但不包括10。我们将这样定义<code>range</code>:</p>


<p>其中包含这些值:</p>


<p>如果我们指定了起始值和终止值，我们可以选择指定一个步长值。默认情况下，该值为<code>1</code>，这意味着序列中的下一个数字比之前的数字高<code>1</code>。</p>
<p>如果我们想得到每隔一个数字，我们可以指定一个步骤<code>2</code>。如果我们想要每三个数字，我们将指定一个步骤<code>3</code>。</p>
<div class="codehilite"><pre><span/><code><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 0, 2, 4, 6, 8</span>
<span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># 0, 3, 6, 9</span>
</code></pre></div>

<p>我们也可以指定一个负的步长值，这意味着我们从起始值向后移动到终止值。</p>
<div class="codehilite"><pre><span/><code><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># 10, 9, 8, 7, 6, 5, 4, 3, 2, 1</span>
</code></pre></div>

<p>要小心，因为如果我们指定一个<code>range</code>，我们不能从一个值到另一个值，<code>range</code>不会抱怨:它只会给我们一个空序列。</p>
<p>一个例子可能是:</p>


<p>我们无法按照<code>-1</code>的步骤从<code>0</code>到达<code>10</code>，所以<code>range</code>什么也没有给我们，而是一个无限的集合。</p>
<p>当您打印一个<code>range</code>时，您可能会看到这样的内容:</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre></div>

<p>但实际上那根本不是要印出来的。</p>
<p>关于<code>range</code>有趣的一点是，它是一种懒惰的类型。这意味着我们的<code>range</code>实际上并不包含这个序列中的所有值。相反，它只是在我们需要的时候计算出下一个数字应该是什么。</p>
<p>这意味着如果你试图打印一个<code>range</code>，你不会看到所有的值:</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>  <span class="c1"># range(0, 1000)</span>
</code></pre></div>

<p>我们得到的只是我们生成的<code>range</code>的定义。该范围从<code>0</code>开始，到<code>1000</code>，并且使用默认步长值。这使得<code>range</code>的内存效率非常高，因为它不必存储潜在的数百万个数字的集合。</p>
<p><code>range</code>是可迭代的，这意味着我们可以在<code>for</code>循环中使用它。这也意味着，如果我们愿意，我们可以将它转换成一个列表或元组。</p>
<p>我们可以使用<code>list</code>和<code>tuple</code>函数来实现这一点，就像我们使用<code>int</code>、<code>float</code>和<code>str</code>来转换整数、浮点数和字符串一样。</p>
<div class="codehilite"><pre><span/><code><span class="n">numbers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>             <span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">immutable_numbers</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>  <span class="c1"># (0, 1, 2, 3, 4, 5, 6, 7, 8, 9)</span>
</code></pre></div>

<h2>在<code>for</code>循环中使用<code>range</code></h2>
<p>有一件事<code>range</code>非常有用，那就是运行一个循环一定次数。</p>
<p>如果我们使用类似于<code>range(10)</code>的东西生成一个<code>range</code>，这个<code>range</code>能够提供十个数字。如果我们迭代这个集合，<code>range</code>将一次给我们一个数字，我们将为每个数字运行一次循环体。</p>
<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>

<span class="c1"># 0</span>
<span class="c1"># 1</span>
<span class="c1"># 2</span>
<span class="c1"># ...</span>
<span class="c1"># 9</span>
</code></pre></div>

<p>即使我们不使用生成的数字<code>range</code>，我们仍然知道我们将从循环中得到10次迭代。</p>
<p>例如，我们可以像这样将一个给定的字符串打印十次:</p>
<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Hello!"</span><span class="p">)</span>
</code></pre></div>

<p>输出:</p>
<div class="codehilite"><pre><span/><code><span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
<span class="n">Hello</span><span class="err">!</span>
</code></pre></div>

<p>当我们编写这样一个循环时，我们生成的数字没有被使用，通常的惯例是将循环变量命名为<code>_</code>。这对我们代码的读者来说是一个明确的信号，循环变量没有出现在我们的循环体中。</p>
<h3>风格注释</h3>
<p>有时你会遇到以<code>_</code>作为循环变量的循环。这是完全合法的，因为<code>_</code>是一个有效的变量名，因此Python不会抱怨。</p>
<p>虽然这是合法的，但是请不要使用<code>_</code>来代替好的描述性名称。它有一个特定的目的，就是向读者表明循环变量实际上并没有在循环体中使用。</p>
<p>使用<code>_</code>作为循环变量的最佳时机如下:</p>
<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Hello!"</span><span class="p">)</span>
</code></pre></div>

<p>这里我们只是使用<code>range</code>来确保一定数量的迭代。我们从不提及<code>range</code>正在生成的数字。这是很好的实践，对于习惯了这种命名约定的读者非常有帮助。</p>
<p>然而，我们不应该在如下所示的循环中使用<code>_</code>:</p>
<div class="codehilite"><pre><span/><code><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
</code></pre></div>

<p>这里我们在循环体内引用了<code>_</code>,这不仅非常难看，而且还浪费了使用好的描述性名称的机会。</p>
<h2>练习</h2>
<p>1)下面我们提供了一个元组列表，其中每个元组包含一个商店雇员的详细信息:他们的姓名、上周工作的小时数以及他们的时薪。以一种清晰易读的格式打印出每个员工在周末应得的工资。</p>
<div class="codehilite"><pre><span/><code><span class="n">employees</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">"Rolf Smith"</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">8.75</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"Anne Pun"</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">12.50</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"Charlie Lee"</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mf">15.50</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">"Bob Smith"</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">7.00</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div>

<p>2)对于上述员工，打印出时薪高于平均水平的员工。</p>
<p>提示:您可以使用一个for循环和两个变量来跟踪工资总额和雇员人数。然后，使用这两个变量计算平均值。最后，添加另一个循环，再次遍历雇员列表，只打印出时薪高于计算平均值的雇员。</p>
<p>你可以在这里找到我们的练习<a href="/30-days-of-python/python-30-day-6-exercise-solutions">的答案。</a></p>
<h2>项目</h2>
<p>一旦你完成了这些练习，我们有<a href="/30-days-of-python/python-30-day-6-project">另一个迷你项目让你尝试</a>！这次我们将解决一个常见的编码面试问题:嘶嘶的嗡嗡声。</p>
<h2>额外资源</h2>
<p>如果你需要提醒自己<code>range</code>选项，如果你想要更多关于它的详细信息，你可以在<a href="https://docs.python.org/3/library/stdtypes.html#ranges">官方文档</a>中查找。</p>
<p>你也可以在这里找到更多关于<code>for</code>循环<a href="https://docs.python.org/3/reference/compound_stmts.html#the-for-statement">的信息。</a></p> 
                </article>
            
            </div>    
</body>
</html>