<html>
<head>
<title>Day 26: Exercise Solutions | Teclado</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>第26天:锻炼解决方案| Teclado</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-30-day-26-exercise-solutions/">https://blog.teclado.com/python-30-day-26-exercise-solutions/</a></blockquote><div><article class="pb-12 prose prose-p:font-copy col-start-2 dark:prose-invert">
                    
                    <p>以下是我们对Python 系列<a href="https://blog.teclado.com/30-days-of-python/"> 30天</a><a href="/30-days-of-python/python-30-day-26-standard-library">第26天</a>练习的解决方案。在检查解决方案之前，请确保您亲自尝试了这些练习！</p>
<h3>1)使用接受标题、导演、发行年份和预算的<code>namedtuple</code>定义一个<code>Movie</code>元组。提示用户为每个字段提供信息，并创建您定义的<code>Movie</code>元组的一个实例。</h3>
<p>首先，我们需要记住从collections模块导入<code>namedtuple</code>。</p>


<p>现在，我们将能够创建我们的模板。在这种情况下，已经为我们提供了新元组类型的名称和字段，所以我们只需要调用<code>namedtuple</code>来获得这些信息。</p>
<div class="codehilite"><pre><span/><code><span class="kn">import</span> <span class="nn">namedtuple</span>

<span class="n">Movie</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">"Movie"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"director"</span><span class="p">,</span> <span class="s2">"year"</span><span class="p">,</span> <span class="s2">"budget"</span><span class="p">])</span>
</code></pre></div>

<p>最后，我们只需要从用户那里获得一些信息来创建新的<code>Movie</code>元组的实例。</p>
<div class="codehilite"><pre><span/><code><span class="kn">import</span> <span class="nn">namedtuple</span>

<span class="n">Movie</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">"Movie"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"director"</span><span class="p">,</span> <span class="s2">"year"</span><span class="p">,</span> <span class="s2">"budget"</span><span class="p">])</span>

<span class="n">title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"What is the title of the movie? "</span><span class="p">)</span>
<span class="n">director</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Who directed </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">? "</span><span class="p">)</span>
<span class="n">year</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">"When was </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2"> released? "</span><span class="p">)</span>
<span class="n">budget</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">"What was the budget for </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">? "</span><span class="p">)</span>

<span class="n">movie</span> <span class="o">=</span> <span class="n">Movie</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">director</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">budget</span><span class="p">)</span>
</code></pre></div>

<h3>2)使用<code>defaultdict</code>存储给定字符串中出现的每个字符的计数。打印本词典中最常见的字符。</h3>
<p>这个练习与帖子中的盘点练习非常相似。</p>
<p>首先我们需要从<code>collections</code>模块导入<code>defaultdict</code>类型。然后我们需要创建一个<code>defaultdict</code>的实例，其中工厂函数是<code>int</code>。</p>
<p>此时，我还将创建一个包含单词拟声词的字符串作为测试字符串。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">s</span> <span class="o">=</span> <span class="s2">"onomatopoeia"</span>
<span class="n">letter_count</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</code></pre></div>

<p>接下来让我们迭代<code>s</code>并开始计算字符数，使用我们之前用来增加物品数量的相同方法。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">s</span> <span class="o">=</span> <span class="s2">"onomatopoeia"</span>
<span class="n">letter_count</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">letter_count</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div>

<p>现在我们只需要通过调用<code>max</code>并传入一些排序键来找到这个新字典中最常见的字母。在这种情况下，我将使用lambda表达式返回每个键的值。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">s</span> <span class="o">=</span> <span class="s2">"onomatopoeia"</span>
<span class="n">letter_count</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">letter_count</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">most_common_character</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">letter_count</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">key</span><span class="p">:</span> <span class="n">letter_count</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">most_common_character</span><span class="p">)</span>  <span class="c1"># o</span>
</code></pre></div>

<p>我们可以看到，我们得到了正确的答案:<code>"o"</code>。</p>
<h3>3)使用<code>operator</code>模块中的<code>mul</code>函数创建一个名为<code>double</code>的<code>partial</code>，它总是提供<code>2</code>作为第一个参数。</h3>
<p>在这种情况下，我们只需要在创建<code>partial</code>时传入一个位置参数，因为我们只对修复第一个参数感兴趣。</p>
<p>我们需要在这里进行两次导入。首先，我们需要从<code>operator</code>导入<code>mul</code>，其次，我们需要从<code>functools</code>导入<code>partial</code>。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">mul</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
</code></pre></div>

<p>在这种情况下，创建分部相当简单。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">mul</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="n">double</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<h3>4)使用以读取(<code>"r"</code>)模式打开文件的<code>partial</code>创建一个<code>read</code>函数。</h3>
<p>创建这个<code>partial</code>的过程与练习3中的on非常相似，但是这次我们需要使用一个关键字参数。</p>
<p>这种情况下我们需要赋值的参数名是<code>mode</code>。</p>
<div class="codehilite"><pre><span/><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="n">read</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="nb">open</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"r"</span><span class="p">)</span>
</code></pre></div>

<p>我们现在可以像使用<code>open</code>函数一样使用这个<code>read</code>函数:它甚至可以在上下文管理器中工作！</p> 
                </article>
            
            </div>    
</body>
</html>