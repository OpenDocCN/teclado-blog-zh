<html>
<head>
<title>Formatting Numbers for Printing in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Python格式化数字以便打印</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-formatting-numbers-for-printing/">https://blog.teclado.com/python-formatting-numbers-for-printing/</a></blockquote><div><div class="post-content">
<p>嘿，欢迎来到另一篇<a href="https://blog.teclado.com/tag/python-snippets/"> Python片段文章</a>。本周我们来看看Python中数字的字符串表示的一些格式化选项。</p><p>字符串格式化实际上是一个令人惊讶的大话题，Python有它自己的内部<a href="https://docs.python.org/3/library/string.html#format-specification-mini-language">迷你语言</a>，只是为了处理我们可用的许多格式化选项。这里我们只关注几个与数字有关的例子，但还有很多值得探索的地方。</p><h2 id="precision">精确</h2><p>首先，让我们看看如何将浮点数格式化为给定的精度。有两种方法可以做到这一点:我们可以指定我们需要多少个有效数字，或者我们可以指定小数点后需要多少个有效数字。先说前者。</p><p>为了指定精度级别，我们需要使用一个冒号(<code>:</code>)，后跟一个小数点，以及一些表示精度的整数。我们把它放在f字符串的花括号内，在我们想要格式化的值之后。您也可以使用<code>format</code>方法，我将在下面演示。</p><pre><code class="language-python">x = 4863.4343091          # example float to format

print(f"{x:.6}")          # f-string version
print("{:.6}".format(x))  # format method version
</code></pre>
<p>在这两种情况下，我们得到相同的结果:<code>4863.43</code>。</p><p>正如我们所看到的，我们很长的浮点数被缩短到只有6位数。需要注意的一件有趣的事情是，这个格式化操作实际上执行了舍入，所以如果<code>x</code>有一个值<code>4863.435</code>，那么输出的数字实际上就是<code>4863.44</code>。这使用了银行家的四舍五入法(此处解释了<a href="https://blog.teclado.com/rounding-in-python/">)。</a></p><p>如果我们指定的数字少于浮点数的整数部分，我们最终会使用指数表示:</p><pre><code class="language-python">x = 4863.4343091

print(f"{x:.3}")  # 4.86e+03
</code></pre>
<p><code>4.86e+03</code>的意思是<code>4.86 x 10³</code>，或者<code>4.86 x 1000</code>，也就是<code>4860</code>。看看这个结果，我们看到我们得到了我们所要求的三个有效数字。</p><p>那么我们如何指定3个小数位呢？我们只需要添加一个<code>f</code>。</p><pre><code class="language-python">x = 4863.4343091

print(f"{x:.3f}")  # 4863.434
</code></pre>
<p>表示我们希望我们的浮点数显示为一个“定点数”:换句话说，我们希望小数点后有一个特定的位数。我们也可以单独使用<code>f</code>，它默认为6位精度:</p><pre><code class="language-python">x = 4863.4343091

print(f"{x:f}")  # 4863.434309
</code></pre>
<h2 id="separators">分离器</h2><p>对于较大的数字，我们通常会写一个分隔符(通常是逗号、空格或句号)，以便于阅读。在Python中，我们可以在冒号后使用逗号或下划线来指定这一点。</p><pre><code class="language-python">x = 1000000

print(f"{x:,}")  # 1,000,000
print(f"{x:_}")  # 1_000_000
</code></pre>
<p>这也适用于浮点和精度格式，逗号在前:</p><pre><code class="language-python">x = 4863.4343091

print(f"{x:,.3f}")  # 4,863.434
print(f"{x:_.3f}")  # 4_863.434
</code></pre>
<h2 id="percentages">百分率</h2><p>我们可以将数字格式化为百分比，只需在格式化选项的末尾添加百分比符号，而不是<code>f</code>:</p><pre><code class="language-python">questions = 30
correct_answers = 23

print(f"You got {correct_answers / questions :.2%} correct!")
# You got 76.67% correct!
</code></pre>
<p>将数字格式化为百分比时，精度级别总是指小数点后的位数。</p><h2 id="wrapping-up">包扎</h2><p>这就是我们对格式化数字的简短探究。有太多的东西需要学习，我们将在未来的帖子中解决这个问题，所以请确保在<a href="https://twitter.com/TecladoCode"> Twitter </a>上关注我们，了解我们所有的最新内容。</p><p>我们还向我们博客的读者提供我们的<a href="https://go.tecla.do/complete-python-sale">完整Python课程</a>,价格仅为9.99美元，如果你点击这篇文章中的链接，优惠券已经为你申请好了。我们非常欢迎您的加入，所以如果您正在寻求提升您的Python技能，或者如果您刚刚开始，请查看一下！</p>
</div>
</div>    
</body>
</html>