<html>
<head>
<title>Day 17: Exercise Solutions | Teclado</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>第17天:锻炼解决方案| Teclado</h1>
<blockquote>原文：<a href="https://blog.teclado.com/python-30-day-17-exercise-solutions/">https://blog.teclado.com/python-30-day-17-exercise-solutions/</a></blockquote><div><article class="pb-12 prose prose-p:font-copy col-start-2 dark:prose-invert">
                    
                    <p>以下是我们对<a href="https://blog.teclado.com/30-days-of-python/"> 30天Python </a>系列中<a href="/30-days-of-python/python-30-day-17-args-kwargs">天17练习</a>的解决方案。在检查解决方案之前，请确保您亲自尝试了这些练习！</p>
<h3>1)创建一个函数，该函数接受任意数量的数字作为位置参数，并打印这些数字的和。</h3>
<p>在我们开始之前，记住不要调用我们的新函数<code>sum</code>是非常重要的。为什么？因为已经有一个<code>sum</code>函数作为Python内置的一部分，我们不想通过重用这个名字来使那个函数不可访问！</p>
<p>当我们想要使用与内置函数或关键字相同的名称时，一个常见的惯例是在名称中加下划线，就像这样:<code>sum_</code>。如果你愿意，你也可以选择一个完全不同的名字，比如<code>multi_add</code>。</p>
<p>让我们去玩吧，因为听起来更有趣。</p>


<p>因为我们想在这里接受任意数量的值，我们知道我们的参数需要<code>*</code>操作符，但是我们需要决定如何调用这个参数。</p>
<p>我们当然可以使用<code>*args</code>，但是这里我们知道参数是什么。它们是数值或数字。以下任何一种都可以:</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">multi_add</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">multi_add</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre></div>

<p>我将使用第二个选项，因为在我看来，它更加具体。</p>
<p>既然在我们的<code>numbers</code>参数中有了这个数字元组，我们就可以将这个值传递给build in <code>sum</code>函数并打印结果。</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">multi_add</span><span class="p">(</span><span class="o">*</span><span class="n">numbers</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">numbers</span><span class="p">))</span>
</code></pre></div>

<p>注意不要写<code>print(sum(*numbers))</code>，因为<code>sum</code>需要一个iterable，而不是很多值。</p>
<h3>2)创建一个函数，它接受任意数量的位置和关键字参数，并将它们打印回给用户。您的输出应该指出哪些值是作为位置参数提供的，哪些是作为关键字参数提供的。</h3>
<p>与上一个练习不同，我们真的不知道我们正在接收的数据是什么，所以这是针对<code>*args</code>和<code>**kwargs</code>的情况。这里我们需要这两个参数，因为我们希望接受任意数量的位置参数和任意数量的关键字参数。</p>
<p>我将调用我的函数<code>arg_printer</code>，但是你可以随意选择你喜欢的名字，只要它很好地描述了这个函数。</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre></div>

<p>既然我们已经设置了参数，打印它们就相当简单了。我们只需要这样做:</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Positional arguments are: </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Keyword arguments are: </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>现在，如果我们调用带有一系列随机值作为参数的函数:</p>
<div class="codehilite"><pre><span/><code><span class="n">arg_printer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>  <span class="s2">"blue"</span><span class="p">,</span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">23</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span> <span class="n">height</span><span class="o">=</span><span class="mi">184</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>我们得到这个:</p>
<div class="codehilite"><pre><span/><code><span class="n">Positional</span> <span class="n">arguments</span> <span class="n">are</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">Keyword</span> <span class="n">arguments</span> <span class="n">are</span><span class="p">:</span> <span class="p">{</span><span class="s1">'height'</span><span class="p">:</span> <span class="mi">184</span><span class="p">,</span> <span class="s1">'key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">function</span> <span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x7f1b7c44f1f0</span><span class="o">&gt;</span><span class="p">}</span>
</code></pre></div>

<p>我认为我们可以做得更好。我想在这里完成两件事:</p>
<ol>
<li>我不希望括号出现在位置参数周围。我只想要一系列逗号分隔的值。</li>
<li>我希望关键字参数是一系列逗号分隔的值，格式如下:<code>height=184</code>。</li>
</ol>
<p>让我们先处理位置论点。我将在这里使用<code>join</code>，但是这意味着我们所有的参数都需要是字符串，所以我们需要对参数列表做一些处理。我要带着一种理解来做这件事:</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Positional arguments are: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>这很好，但并不完美，因为在输出中类似于<code>"1"</code>和<code>1</code>的东西没有区别。这是潜在的误导。</p>
<p>不使用<code>str</code>，我将使用<code>repr</code>函数，它将为我们提供一种不同类型的字符串表示，与我们实际定义值的方式更加一致。这将保留<code>1</code>和<code>"1"</code>之间的区别。</p>
<p>你可以在<a href="https://docs.python.org/3/library/functions.html#repr">文档</a>中找到更多关于<code>repr</code>的信息。</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Positional arguments are: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>现在让我们来看看关键字参数。</p>
<p>我想再次使用join，所以我要创建一个字符串列表，就像之前一样。这次我将使用<code>items</code>方法迭代字典，并将键和值插入到字符串中。</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Positional arguments are: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
</code></pre></div>

<p>我再次在这里使用了<code>repr</code>,但只是针对值。这使得输出更加符合我们传入关键字参数的方式。</p>
<p>现在我们可以在打印时加入新的<code>kwargs</code>列表:</p>
<div class="codehilite"><pre><span/><code><span class="k">def</span> <span class="nf">arg_printer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Positional arguments are: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Keyword arguments are: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>使用我们以前的参数集，我们现在得到了更好的输出，如下所示:</p>
<div class="codehilite"><pre><span/><code><span class="n">Positional</span> <span class="n">arguments</span> <span class="n">are</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">Keyword</span> <span class="n">arguments</span> <span class="n">are</span><span class="p">:</span> <span class="n">height</span><span class="o">=</span><span class="mi">184</span><span class="p">,</span> <span class="n">key</span><span class="o">=&lt;</span><span class="n">function</span> <span class="o">&lt;</span><span class="k">lambda</span><span class="o">&gt;</span> <span class="n">at</span> <span class="mh">0x7f2deaeed700</span><span class="o">&gt;</span>
</code></pre></div>

<h3>3)使用<code>format</code>方法和<code>**</code>拆包打印以下字典。</h3>
<div class="codehilite"><pre><span/><code><span class="n">country</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Germany"</span><span class="p">,</span>
    <span class="s2">"population"</span><span class="p">:</span> <span class="s2">"83 million"</span><span class="p">,</span>
    <span class="s2">"capital"</span><span class="p">:</span> <span class="s2">"Berlin"</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"Euro"</span>
<span class="p">}</span>
</code></pre></div>

<p>在如何实际输出数据方面，我们有很大的自由度，所以我将主要模仿字典格式。</p>
<p>我的模板将看起来像这样:</p>
<div class="codehilite"><pre><span/><code><span class="n">country_template</span> <span class="o">=</span> <span class="s2">"""Name: </span><span class="si">{name}</span>
<span class="s2">Population: </span><span class="si">{population}</span>
<span class="s2">Capital: </span><span class="si">{capital}</span>
<span class="s2">Currency: </span><span class="si">{currency}</span><span class="s2">"""</span>
</code></pre></div>

<p>因为我们计划使用<code>**</code>解包，我们需要使用命名占位符，因为这是<code>format</code>将关键字映射到占位符的方式。</p>
<p>现在我们可以像这样使用模板:</p>
<div class="codehilite"><pre><span/><code><span class="n">country</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Germany"</span><span class="p">,</span>
    <span class="s2">"population"</span><span class="p">:</span> <span class="s2">"83 million"</span><span class="p">,</span>
    <span class="s2">"capital"</span><span class="p">:</span> <span class="s2">"Berlin"</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"Euro"</span>
<span class="p">}</span>

<span class="n">country_template</span> <span class="o">=</span> <span class="s2">"""Name: </span><span class="si">{name}</span>
<span class="s2">Population: </span><span class="si">{population}</span>
<span class="s2">Capital: </span><span class="si">{capital}</span>
<span class="s2">Currency: </span><span class="si">{currency}</span><span class="s2">"""</span>

<span class="nb">print</span><span class="p">(</span><span class="n">country_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">country</span><span class="p">))</span>
</code></pre></div>

<p>在我的例子中，输出如下:</p>
<div class="codehilite"><pre><span/><code><span class="n">Name</span><span class="p">:</span> <span class="n">Germany</span>
<span class="n">Population</span><span class="p">:</span> <span class="mi">83</span> <span class="n">million</span>
<span class="n">Capital</span><span class="p">:</span> <span class="n">Berlin</span>
<span class="n">Currency</span><span class="p">:</span> <span class="n">Euro</span>
</code></pre></div>

<p>如果你想用更多的值来尝试，创建一个国家字典列表，并在一个<code>for</code>循环中将你的模板传递给<code>print</code>。</p>
<h3>4)使用<code>*</code>拆包和<code>range</code>，打印数字<code>1</code>到<code>20</code>，用逗号分隔。</h3>
<p>这里我们必须小心记住的一点是，定义<code>range</code>时的停止值是不包含的。这意味着我们需要<code>range(1, 21)</code>。</p>
<p>我们实际上可以在一行中完成整个练习，这显示了这种方法的一些强大之处:</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">", "</span><span class="p">)</span>
</code></pre></div>

<p>这里我用<code>*</code>解包了<code>range</code>，把它变成了20个独立的整数，并且我使用<code>sep</code>参数定义了在这些值之间的字符。我选择的值是一个逗号后跟一个空格。</p>
<p>如果我们运行代码，我们会得到如下输出:</p>
<div class="codehilite"><pre><span/><code><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span>
</code></pre></div>

<h3>5)修改练习<code>4</code>中的代码，使每个数字打印在不同的行上。您只能使用一次<code>print</code>通话。</h3>
<p>我们需要对代码进行的唯一更改是更改我们传递给<code>sep</code>的分隔符字符串。我将使用<code>"\n"</code>代替逗号和空格，这意味着我们将在每个值之间换行。</p>
<div class="codehilite"><pre><span/><code><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>

<p>现在当我们打印时，所有的数字都在不同的行上。</p> 
                </article>
            
            </div>    
</body>
</html>