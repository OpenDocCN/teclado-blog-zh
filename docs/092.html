<html>
<head>
<title>Scrollable Frames in Tkinter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Tkinter中的可滚动框架</h1>
<blockquote>原文：<a href="https://blog.teclado.com/tkinter-scrollable-frames/">https://blog.teclado.com/tkinter-scrollable-frames/</a></blockquote><div><div class="post-content">
<p>在Tkinter中，只有Canvas小部件是本机可滚动的容器。这意味着它的实际尺寸可以大于屏幕尺寸，并且您可以移动正在查看的区域。这就是滚动的真正含义！</p><p>看看这张图表:</p><figure class="kg-card kg-image-card"><img src="../Images/db26044b051007f49705d2f2be7532f0.png" class="kg-image" alt="" loading="lazy" data-original-src="https://blog.teclado.com/content/images/2019/10/scrollable-frame-tkinter-s.gif"/></figure><p>内容(背景最暗)是“实际大小”，通常也是“可滚动区”。</p><p>用户看到的是可滚动的框架，你可以把它想象成一个“窗口”,让你看到可滚动的区域。</p><p>我们将要做的是创建一个画布，并在其中创建一个窗口。</p><p>窗口可以包含我们想要的任意多的内容，但是它是我们将放在应用程序中的画布。</p><p>这意味着我们可以将画布的大小设置为我们想要的任何值，然后当我们滚动时，我们将沿着它里面的窗口移动。</p><p>为了做到这一点，我们还必须指定什么是可滚动区。通常，可滚动区与内部窗口的内容相匹配——但如果我们愿意，它也可以是不同的。</p><p>让我们从创建我们需要的所有小部件开始。这些是:</p><ul><li>一个应用程序窗口(一个<code>tk.Tk</code>对象)</li><li>我们的画布和滚动条的容器框架</li><li>画布</li><li>滚动条</li><li>将成为可滚动框架的框架</li></ul><p>几乎所有这些小部件都像普通的Tkinter小部件一样工作(也就是说，你把它们放在它们的容器中，然后使用Pack或Grid)。但是，可滚动框架的行为会有所不同。我们将创建它，给它画布作为它的容器，但是不使用Pack或Grid，我们将使用canvas的'<code>create_window</code>方法在画布中创建一个窗口，显示可滚动框架的内容。</p><p>创建小部件非常简单:</p><pre><code class="language-python">import tkinter as tk
from tkinter import ttk

root = tk.Tk()
container = ttk.Frame(root)
canvas = tk.Canvas(container)
scrollbar = ttk.Scrollbar(container, orient="vertical", command=canvas.yview)
scrollable_frame = ttk.Frame(canvas)
</code></pre>
<p>现在让我们添加一些代码，每当可滚动框架的内容改变时，这些代码将调用一个函数。这是必要的，因为我们必须告诉画布框架将有多大，以便它知道它可以滚动多少:</p><pre><code class="language-python">scrollable_frame.bind(
    "&lt;Configure&gt;",
    lambda e: canvas.configure(
        scrollregion=canvas.bbox("all")
    )
)
</code></pre>
<p>每当<code>scrollable_frame</code>改变大小时，我们在这里绑定的<code>&lt;Configure&gt;</code>事件就会触发——也就是说，通常当我们在其中添加或删除小部件时。</p><p>只有当它改变大小时，我们才需要改变滚动属性。</p><p>变化是我们将画布'<code>scrollregion</code>修改为大小为<code>canvas.bbox("all")</code>。</p><p>调用<code>canvas.bbox("all")</code>给我们一个4值元组，描述了一个矩形的两个角的位置，这是一个滚动区域。</p><p>接下来，我们必须告诉画布在它自己内部绘制<code>scrollable_frame</code>:</p><pre><code class="language-python">canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")
</code></pre>
<p>值<code>(0, 0)</code>告诉画布在哪个位置绘制窗口。参数<code>anchor="nw"</code>告诉画布将框架的左上角放在位置<code>(0, 0)</code>上。</p><p>最后，我们必须配置画布，以便当它的y位置改变时，滚动条移动:</p><pre><code class="language-python">canvas.configure(yscrollcommand=scrollbar.set)
</code></pre>
<p>一旦你完成了这些，你就可以添加元素到<code>scrollable_frame</code>中，它会像你期望的那样工作！</p><p>另外，不要忘记使用Pack或Grid将容器、画布和滚动条添加到应用程序窗口中。</p><p>最终的代码可能如下所示:</p><pre><code class="language-python">import tkinter as tk
from tkinter import ttk

root = tk.Tk()
container = ttk.Frame(root)
canvas = tk.Canvas(container)
scrollbar = ttk.Scrollbar(container, orient="vertical", command=canvas.yview)
scrollable_frame = ttk.Frame(canvas)

scrollable_frame.bind(
    "&lt;Configure&gt;",
    lambda e: canvas.configure(
        scrollregion=canvas.bbox("all")
    )
)

canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")

canvas.configure(yscrollcommand=scrollbar.set)

for i in range(50):
    ttk.Label(scrollable_frame, text="Sample scrolling label").pack()

container.pack()
canvas.pack(side="left", fill="both", expand=True)
scrollbar.pack(side="right", fill="y")

root.mainloop()
</code></pre>
<p>为了使创建可滚动的框架更容易一些，你可能想编写一个易于使用的类。</p><p>我们已经为您完成了，所以您不必再做了！</p><p>这里有一个<code>ScrollableFrame</code>类，你可以用它作为一个普通的框架！</p><pre><code class="language-python">import tkinter as tk
from tkinter import ttk


class ScrollableFrame(ttk.Frame):
    def __init__(self, container, *args, **kwargs):
        super().__init__(container, *args, **kwargs)
        canvas = tk.Canvas(self)
        scrollbar = ttk.Scrollbar(self, orient="vertical", command=canvas.yview)
        self.scrollable_frame = ttk.Frame(canvas)

        self.scrollable_frame.bind(
            "&lt;Configure&gt;",
            lambda e: canvas.configure(
                scrollregion=canvas.bbox("all")
            )
        )

        canvas.create_window((0, 0), window=self.scrollable_frame, anchor="nw")

        canvas.configure(yscrollcommand=scrollbar.set)

        canvas.pack(side="left", fill="both", expand=True)
        scrollbar.pack(side="right", fill="y")
</code></pre>
<p>如果你想使用这个类，记得把东西放在<code>self.scrollable_frame</code>里面，而不是直接放在这个类的一个对象里:</p><pre><code class="language-python">root = tk.Tk()

frame = ScrollableFrame(root)

for i in range(50):
    ttk.Label(frame.scrollable_frame, text="Sample scrolling label").pack()

frame.pack()
root.mainloop()
</code></pre>
<h2 id="wrapping-up">包扎</h2><p>差不多就是这样！可滚动的框架可能是一个巨大的痛苦，直到你知道如何制作它们。即使这样，它看起来也很奇怪，因为您不会想到您会使用画布(这意味着绘图)来支持在不相关的组件上滚动。</p><p>但是现在你知道它们是如何相互作用的，以及为什么它是必要的。</p><p>如果您想了解更多关于Tkinter的知识，并学习构建真实世界的项目，请查看我们的<a href="https://go.tecla.do/tkinter-gui-course-sale">用Python和Tkinter开发GUI</a>课程。它包含超过10小时的优质内容，让您了解Tkinter提供的一切。</p><p>下次见！</p>
</div>
</div>    
</body>
</html>